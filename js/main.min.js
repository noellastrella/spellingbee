var words,letters=[],guessArray=[],guessesArray=[],wordFile="",score=0;function init(){let vowels="AEIOU".split(""),alphabet,consonants="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").reduce((acc,curr)=>vowels.includes(curr)?acc:[...acc,curr],[]);function addLetter(e){guessArray.push(e.target.dataset.letter),updateState()}function updateState(){document.querySelector("#word_list").innerHTML=guessesArray.reduce((acc,curr)=>acc+`<li>${curr.guess} (${curr.score})</li>`,""),document.querySelector("#text").innerText=guessArray.join(""),document.querySelector("#score").innerText=score}function checkWord(){let guessTemp=guessArray.join("").toLowerCase();if(!guessTemp.includes(letters[letters.length-1].toLowerCase()))return"MUST USE MIDDLE WORD";if(words.includes(guessTemp)){if(guessesArray.includes(guessTemp))return"Word already used";{let scoreTemp=guessTemp.length-3;return guessesArray.push({guess:guessTemp,score:scoreTemp}),score+=scoreTemp,guessArray=[],"..."}}return"Not a word"}letters.push([...vowels.map(value=>({value:value,sort:Math.random()})).sort((a,b)=>a.sort-b.sort).map(({value:value})=>value).splice(0,1)]),letters.push([...consonants.map(value=>({value:value,sort:Math.random()})).sort((a,b)=>a.sort-b.sort).map(({value:value})=>value).splice(0,6)]),letters=letters.flat(),document.querySelectorAll(".hex").forEach((e,i)=>{e.addEventListener("click",addLetter),e.querySelector("polygon").setAttribute("data-letter",letters[i]),e.querySelector("text").innerHTML=letters[i]}),document.querySelector("#buttons_container").addEventListener("click",e=>{let msg="";"delete"===e.target.id?guessArray.pop():"submit"===e.target.id&&(msg="Enter a word",msg=guessArray.length>0&&guessArray.length<4?"Word Too Short":checkWord(),document.querySelector("#alert").innerHTML=msg),updateState()})}fetch(wordFile="/js/wordlist/words100k.json").then(response=>{if(!response.ok)throw new Error("Network response was not ok");return response.json()}).then(data=>{words=data.reduce((acc,curr)=>(curr.length>3&&acc.push(curr),acc),[]),init()}).catch(error=>{console.error("Fetch error:",error)});